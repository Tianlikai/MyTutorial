# javaScript 基础总结

JavaScript 基础有如下知识点：

- 执行上下文
- 作用域
- 作用域链
- 闭包
- this

## 执行上下文

执行上下文可以简单理解为一个对象

它一共包含三个部分：

- 变量对象
- 作用域链
- `this`

它的类型：

- 全局执行上下文
- 函数执行上下文
- `eval`执行上下文

代码的执行过程：

1. 创建全局上下文
2. 全局执行上下文逐行自上而下。遇到函数时，函数执行上下文被 push 到栈顶。
3. 函数执行上下文被激活，开始执行函数中的代码。
4. 函数执行完毕，弹出执行栈，控制权交还给全局上下文，继续执行。

## 作用域

执行上下文中还包含作用域链，理解作用域链之前，先介绍一下作用域。作用域可以理解为该上下文中声明的变量和声明的作用范围。可以分为块作用域和函数作用域。

特性：

1. 声明提前
2. 函数声明提前
3. 非匿名自执行函数，函数变量为`只读`状态，无法修改。

## 作用域链

我们知道，我们可以在执行上下文中访问到局部作用域以及父级作用域和全局作用域，这就是作用域的功劳。像冒泡一样，可以逐层往外访问。

由两部分组成

1. `[[scope]]`属性：指向父级变量对象和作用域链。
2. 自身活动对象

## 闭包

闭包属于一种特殊的作用域，称为`静态作用域`。它的定义可以理解为：`父函数被销毁`的情况下，返回出的子函数的任保留着父级的变量对象和作用域链，因此可以访问到父级的变量对象。

闭包带来的问题：

1. 多个子函数共享父级作用域，父级中的变量被修改，会影响到所有的子函数。

解决问题：

1. 变量通过函数传入
2. 使用块级作用域

## this

this 指向一个变量，并且 this 实在执行时绑定的。this 具有如下几种绑定方式：

- 默认绑定
- 隐式绑定
- 硬绑定
- new 绑定

### this 绑定的优先级

1. 硬绑定 > 隐式绑定 > 默认绑定
2. 使用`bind`的硬绑定在使用 new 调用时，会改变 this 指向
3. 箭头函数的 this 继承自父级。
