# js 中的数据类型

js 中一共有其中内置类型：

- null
- undefined
- string
- number
- boolean
- object
- symbol

`注意，函数类型仅仅是object的一种子类型，function.length为函数参数的长度`

1. javascript 中的变量不具有类型，变量对应的值才具有类型
2. undedined 代表已声明但是未定给值，而 undeclared 代表未声明，访问时会直接报错
3. js 中的基础数据类型包括

   - null
   - undefined
   - string
   - number
   - boolean
   - symbol

# js 中的值

js 中的值有一些值得注意的事项：

- 42.toFixed( 3 ); // SyntaxError， .被视为 42.的一部分
- 0.1 + 0.2 === 0.3; // false, 可以使用`机械精度2^-52`来避免此类问题，误差范围在机械精度以内的可以忽略不计
- `null`指`空值`，代表目前没有值
- `undefined`指`没有值`，代表从未赋值
- NaN 不等于任何数
- var a = new Boolean(false); // 返回的是一个 Boolean 对象 if(a)永远为 true，a.valueof()的值才为 false

# js 中的强制类型转换

关于值的类型转换，有以下几点值得注意

1. a 和 b 都不是字符串，最后却按字符串进行拼接

```javascript
var a = [1, 2];
var b = [3, 4];
var c = a + b; // c: 1,23,4
```

因为数组的 valueOf 无法取得基本类型值，所以转而调用 toString()，取得了 a = "1,2"; b = "3,4";

# js 中的作用域

作用域可以理解为上下文中声明的变量以及声明的作用范围，分别具有全局作用域，块级作用域和函数作用域

特性：

- 变量声明时，会进行变量提升，函数声明优先，并且重名的情况会被覆盖
- 非匿名自执行函数，函数变量为只读状态，无法修改

# js 中的作用域链

我们在函数作用域中能访问到全局作用域的变量，这是由于作用域存在。

# js 中的变量对象

变量对象是执行上下文中的一部分，它存储着上下文中所有的变量和函数声明

# js 中的执行上下文

js 执行上下文的类型：

- 全局执行上下文
- 函数执行上下文
- eval 执行上下文

js 执行上下文包括三个部分：

- 变量对象
- 作用域链
- this 对象

js 执行上下文的过程

1. 创建全局上下文
2. 全局上下文至上而下逐行执行，遇到函数时，函数执行上下文被 push 入栈
3. 函数上下文被激活，执行函数上下文中的代码。
4. 函数执行完毕，将函数执行上下文 pop 出栈，控制权回到全局上下文，继续执行。

# 闭包

闭包，是静态作用域的产物，在父级函数被销毁的情况下，返回的子级函数依然保留着父级变量对象和作用域链，因此依然可以访问到父级变量。

问题：

- 多个子级函数都能通过作用域访问到父级变量，并且是完全共享父级变量，所以其中一个子级修改了父级变量，所以的子级都会收到影响。

# js 中的内存溢出

造成内存溢出的情况：

- 意外全局变量
- 闭包
- 未清除 dom 元素的引用
- 循环应用
- 定时器未正确关闭，导致所引用的变量没有释放
- 事件监听没有被正确销毁

v8 垃圾回收机制

v8 垃圾回收机制分为新生代垃圾回收机制和老生代垃圾回收机制。新生代垃圾回收机制用于存活时间较短的对象，老生代垃圾回收机制用于存活时间较长的对象。

1. 新生代空间

   - 分成两个空间，from 空间和 to 空间
   - 当 from 空间占满时，使用 gc 算法
     - 存活的对象从 from space 转移到 to space
     - 清空 from space
     - from space 和 to space 惊醒互换
     - 完成一次新生代 gc

2. 老生代空间
   - 从新生代移动到老生代的条件
     - 经历过一次 gc 算法
     - to space 体积超过 25%
   - 使用标记清除算法，标记存活的对象，未标记的则被清除

# js 中的原型链

原型，构造函数，实例，\_\_proto\_\_对象

- 原型，可以理解为一个简单的对象，用于实现属性继承，可以简单的理解为对象的爹。object.\_\_proto\_\_ 指向 prototype
- 构造函数，通过 new 创建一个实例对象，并且构造函数的 prototype 指向原型
- 实例，实例的\_\_proto\_\_对象指 prototype，并通过 prototype 的 constructor 指向构造函数

# js 中的继承

js 通过原型链实现继承

# js 中的执行机制
